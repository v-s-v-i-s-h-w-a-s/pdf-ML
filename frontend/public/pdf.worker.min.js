/* Local pdf.js worker shim. It will try to use a local node_modules copy if available,
   otherwise fallback to the CDN. This makes the worker resolvable at /pdf.worker.min.js
   so react-pdf / pdfjs can load it in browser environments that block dynamic imports. */
try {
  // If a local installed copy is served by your dev server, try to load it
  importScripts('/node_modules/pdfjs-dist/build/pdf.worker.min.js');
} catch (e) {
  // Fallback to CDN
  try {
    importScripts('https://unpkg.com/pdfjs-dist@4.8.69/build/pdf.worker.min.js');
  } catch (err) {
    // If both fail, self.postMessage an error to the main thread.
    // Consumers will see worker errors in the console.
    console.error('Failed to load pdf.worker from local or CDN', err);
  }
}
